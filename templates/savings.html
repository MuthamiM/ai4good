{% extends 'base.html' %}
{% block title %}Savings Planner — Fin AI{% endblock %}

{% block content %}
<section class="page-header">
    <h1><i class="fas fa-piggy-bank"></i> AI Savings Planner</h1>
    <p>Set goals, get investment strategies, and watch your money grow</p>
</section>

<div class="tool-container">
    <!-- Input Form -->
    <div class="glass-card animate-on-scroll">
        <h2><i class="fas fa-bullseye"></i> Define Your Goal</h2>
        <form id="savingsForm" class="form-grid-2">
            <div class="form-group">
                <label for="sGoal"><i class="fas fa-star"></i> Goal Name</label>
                <input type="text" id="sGoal" placeholder="e.g. Emergency Fund" value="Emergency Fund" />
            </div>
            <div class="form-group">
                <label for="sTarget"><i class="fas fa-bullseye"></i> Target Amount (Ksh )</label>
                <input type="number" id="sTarget" placeholder="e.g. 100000" required />
            </div>
            <div class="form-group">
                <label for="sCurrent"><i class="fas fa-piggy-bank"></i> Already Saved (Ksh )</label>
                <input type="number" id="sCurrent" value="0" />
            </div>
            <div class="form-group">
                <label for="sMonths"><i class="fas fa-calendar-alt"></i> Timeline (months)</label>
                <input type="number" id="sMonths" placeholder="e.g. 12" value="12" required />
            </div>
            <div class="form-group">
                <label for="sIncome"><i class="fas fa-rupee-sign"></i> Monthly Income (Ksh )</label>
                <input type="number" id="sIncome" placeholder="e.g. 30000" required />
            </div>
            <div class="form-group">
                <label for="sExpenses"><i class="fas fa-shopping-cart"></i> Monthly Expenses (Ksh )</label>
                <input type="number" id="sExpenses" placeholder="e.g. 20000" required />
            </div>
            <div class="form-group form-full">
                <label><i class="fas fa-shield-alt"></i> Risk Tolerance</label>
                <div class="radio-group">
                    <label class="radio-card">
                        <input type="radio" name="risk" value="conservative" />
                        <div class="radio-content">
                            <i class="fas fa-shield-alt"></i>
                            <span>Conservative</span>
                            <small>Safe &amp; steady</small>
                        </div>
                    </label>
                    <label class="radio-card">
                        <input type="radio" name="risk" value="moderate" checked />
                        <div class="radio-content">
                            <i class="fas fa-balance-scale"></i>
                            <span>Moderate</span>
                            <small>Balanced growth</small>
                        </div>
                    </label>
                    <label class="radio-card">
                        <input type="radio" name="risk" value="aggressive" />
                        <div class="radio-content">
                            <i class="fas fa-rocket"></i>
                            <span>Aggressive</span>
                            <small>Max growth</small>
                        </div>
                    </label>
                </div>
            </div>
            <div class="form-full">
                <button type="submit" class="btn btn-primary btn-lg">
                    <i class="fas fa-magic"></i> Create Savings Plan
                </button>
            </div>
        </form>
    </div>

    <!-- Results -->
    <div class="hidden" id="savingsResults">

        <!-- Metrics -->
        <div class="metrics-row animate-on-scroll">
            <div class="metric-card">
                <div class="metric-ring" id="savingsProgressRing">
                    <svg viewBox="0 0 120 120">
                        <circle cx="60" cy="60" r="52" class="ring-bg" />
                        <circle cx="60" cy="60" r="52" class="ring-fill" id="savingsCircle" />
                    </svg>
                    <span class="metric-ring-value" id="savingsProgress">0%</span>
                </div>
                <span class="metric-label">Progress</span>
            </div>
            <div class="metric-card">
                <span class="metric-big" id="savingsRequired">Ksh 0</span>
                <span class="metric-label">Monthly Required</span>
            </div>
            <div class="metric-card">
                <span class="metric-big" id="savingsRemaining">Ksh 0</span>
                <span class="metric-label">Left to Save</span>
            </div>
            <div class="metric-card">
                <span class="metric-big" id="savingsFeasible">—</span>
                <span class="metric-label">Feasibility</span>
            </div>
        </div>

        <!-- Growth Chart -->
        <div class="glass-card animate-on-scroll">
            <h3><i class="fas fa-chart-line"></i> Projected Growth Scenarios</h3>
            <div class="chart-wrapper chart-wrapper-wide">
                <canvas id="growthChart"></canvas>
            </div>
        </div>

        <!-- Investment Strategy -->
        <div class="glass-card animate-on-scroll">
            <h3><i class="fas fa-chess"></i> Recommended Investment Strategy</h3>
            <div id="strategyGrid" class="strategy-grid"></div>
        </div>

        <!-- Milestones -->
        <div class="glass-card animate-on-scroll">
            <h3><i class="fas fa-flag-checkered"></i> Monthly Milestones</h3>
            <div id="milestones" class="milestones-track"></div>
        </div>

        <!-- Tips -->
        <div class="glass-card animate-on-scroll">
            <h3><i class="fas fa-lightbulb"></i> Savings Tips</h3>
            <div id="savingsTips" class="recs-list"></div>
        </div>
    </div>
</div>
{% endblock %}
